<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Powered Image Similarity Analysis</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>AI-Powered Image Similarity Analysis</h1>
            <p class="subtitle">Using Deep Learning to extract visual features and provide explainable similarity scores</p>
        </header>
        
        <div class="card">
            <h2>Upload Images for Analysis</h2>
            <div class="upload-section">
                <div class="upload-area" id="uploadArea1">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <p>Drag & drop Image 1 or click to browse</p>
                    <input type="file" id="fileInput1" accept="image/*" style="display: none;">
                    <button class="btn btn-outline" onclick="document.getElementById('fileInput1').click()">
                        <i class="fas fa-folder-open"></i> Select Image 1
                    </button>
                </div>
                
                <div class="upload-area" id="uploadArea2">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <p>Drag & drop Image 2 or click to browse</p>
                    <input type="file" id="fileInput2" accept="image/*" style="display: none;">
                    <button class="btn btn-outline" onclick="document.getElementById('fileInput2').click()">
                        <i class="fas fa-folder-open"></i> Select Image 2
                    </button>
                </div>
            </div>
            
            <div class="image-previews" id="imagePreviews" style="display: none;">
                <div class="image-container">
                    <img id="preview1" src="" alt="Image 1 Preview">
                    <p>Image 1</p>
                </div>
                <div class="vs-separator">
                    <span>VS</span>
                </div>
                <div class="image-container">
                    <img id="preview2" src="" alt="Image 2 Preview">
                    <p>Image 2</p>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-primary" id="analyzeBtn" onclick="analyzeImages()">
                    <i class="fas fa-search"></i> Analyze Similarity
                </button>
            </div>
        </div>
        
        <div class="card results" id="resultsSection" style="display: none;">
            <h2>Similarity Analysis Results</h2>
            
            <div class="similarity-score">
                <div class="score-circle">
                    <div class="score-value" id="overallScore">0%</div>
                </div>
                <div class="score-label">Overall Similarity</div>
            </div>
            
            <div class="breakdown">
                <div class="breakdown-item">
                    <h3>Object Overlap</h3>
                    <div class="breakdown-value" id="objectScore">0%</div>
                </div>
                <div class="breakdown-item">
                    <h3>Texture Similarity</h3>
                    <div class="breakdown-value" id="textureScore">0%</div>
                </div>
                <div class="breakdown-item">
                    <h3>Color Similarity</h3>
                    <div class="breakdown-value" id="colorScore">0%</div>
                </div>
            </div>
            
            <div class="explanation">
                <h3>Explainable AI Breakdown</h3>
                <p class="explanation-text">
                    
                </p>
                
                <div class="layer-contributions">
                    <div class="layer">
                        <h4>Low-level Features</h4>
                        <p>Edges, gradients, textures, colors</p>
                        <div class="progress-bar">
                            <div class="progress" id="lowLevelProgress" style="width: 0%"></div>
                        </div>
                        <div id="lowLevelText">0% contribution</div>
                    </div>
                    <div class="layer">
                        <h4>Mid-level Features</h4>
                        <p>Patterns, repeated structures, shapes</p>
                        <div class="progress-bar">
                            <div class="progress" id="midLevelProgress" style="width: 0%"></div>
                        </div>
                        <div id="midLevelText">0% contribution</div>
                    </div>
                    <div class="layer">
                        <h4>High-level Features</h4>
                        <p>Objects, semantics, categories</p>
                        <div class="progress-bar">
                            <div class="progress" id="highLevelProgress" style="width: 0%"></div>
                        </div>
                        <div id="highLevelText">0% contribution</div>
                    </div>
                </div>
            </div>
            
            <div class="detected-objects">
                <h3>Detected Objects</h3>
                <div class="objects-list" id="objectsList">
                    <!-- Objects will be populated here -->
                </div>
            </div>
            
            <div class="processing-info">
                <p><i class="fas fa-clock"></i> Processing time: <span id="processingTime">0s</span></p>
            </div>
        </div>
        
        <div class="card demo-scenarios">
            <h2>Demo Scenarios</h2>
            <p class="scenario-description">
                Try these predefined scenarios to understand how the system works in different situations.
            </p>
            
            <div class="scenario-buttons">
                <button class="btn btn-secondary" onclick="loadDemoScenario('same-object')">
                    Same Object, Different Background
                </button>
                <button class="btn btn-secondary" onclick="loadDemoScenario('similar-texture')">
                    Different Objects, Similar Texture
                </button>
                <button class="btn btn-secondary" onclick="loadDemoScenario('product-discovery')">
                    Product Discovery
                </button>
                <button class="btn btn-secondary" onclick="loadDemoScenario('duplicate-detection')">
                    Duplicate Detection
                </button>
            </div>
        </div>
        
        <div class="card architecture">
            <h2>Technical Architecture</h2>
            <div class="tech-stack">
                <div class="tech-item">
                    <div class="tech-icon">
                        <i class="fab fa-python"></i>
                    </div>
                    <div class="tech-name">Flask Backend</div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="tech-name">TensorFlow/Keras</div>
                </div>
              
                <div class="tech-item">
                    <div class="tech-icon">
                        <i class="fab fa-js"></i>
                    </div>
                    <div class="tech-name">JavaScript Frontend</div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">
                        <i class="fas fa-server"></i>
                    </div>
                    <div class="tech-name">GPU Inference</div>
                </div>
            </div>

            
            
           
        </div>
        
        <footer>
            <p>AI-Powered Image Similarity Analysis System | Built with TensorFlow, Flask, and Modern Web Technologies</p>
            <p>Processing time: 2-5s per comparison | Feature dimension: 2048 | Accuracy range: 70-90%</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>